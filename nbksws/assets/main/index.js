System.register("chunks:///_virtual/ActionMgr.ts",["cc","./CEnum.ts","./EnumMgr.ts"],(function(e){"use strict";var t,a,i,s,r;return{setters:[function(e){t=e.cclegacy},function(e){a=e.PageLeve},function(e){i=e.PageType,s=e.LocalType,r=e.EventType}],execute:function(){t._RF.push({},"a96b2amZEpJtKfh6h2qmkuL","ActionMgr",void 0);e("ActionMgr",function(){function e(){}return e.runEvent=function(e){if(e){var t=e.split(":");switch(t[0]){case"隐藏物品":globalThis.eventMgr.emit(r.Item_Hide,t[1]);break;case"显示物品":globalThis.eventMgr.emit(r.Item_Show,t[1]);break;case"隐藏细节":globalThis.eventMgr.emit(r.Details_Hide,t[1]);break;case"显示细节":globalThis.eventMgr.emit(r.Details_Show,t[1]);break;case"获取道具":this.getNewProp(t[1]);break;case"增加进度":globalThis.localDataMgr.addListItem(s.progress,t[1]),globalThis.eventMgr.emit(r.Item_Refresh,null);break;case"拼图游戏":globalThis.windowMgr.open(i.CPageGamePinTu,a.submain)}}},e.getCheck=function(e){var t=e.split(":");switch(t[0]){case"未记录":return!globalThis.localDataMgr.checkListItem(s.progress,t[1]);case"记录":return globalThis.localDataMgr.checkListItem(s.progress,t[1]);case"拥有道具":return globalThis.localDataMgr.checkListItem(s.bagList,t[1]);case"没有道具":return!globalThis.localDataMgr.checkListItem(s.bagList,t[1])}},e.getNewProp=function(e){var t=globalThis.configMgr.tables.get("道具表").getRowByIndex("id",e);globalThis.windowMgr.open(i.CPageMsgTip,a.tip,{text:"获取道具 "+t.get("名字")}),globalThis.localDataMgr.addListItem(s.bagList,e),globalThis.eventMgr.emit(r.Prop_Refresh,null)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CMath.ts","./CTween.ts"],(function(t){"use strict";var o,i,n,e,u,s;return{setters:[function(t){o=t.createClass},function(t){i=t.cclegacy,n=t.Node,e=t.AudioSource},function(t){u=t.CMath},function(t){s=t.CTween}],execute:function(){i._RF.push({},"1a178sxil5MKbMp4eOun+eS","AudioMgr",void 0);var c=t("AudioNode",function(){function t(){this._volume=1,this._volumeScale=1,this.node=void 0,this.component=void 0,this.loop=!1,this.fadeIn=!1,this.fadeOut=!1,this.audio=void 0,this.cb=void 0,this.cbOnec=void 0,this.debug=!1,this.node=new n,this.component=this.node.addComponent(e),this.node.on(e.EventType.STARTED,this.onStart,this),this.node.on(e.EventType.ENDED,this.onEnd,this)}var i=t.prototype;return i.play=function(){var t=this;this.audio&&globalThis.resMgr.loadAudio(this.audio,(function(o){t.component.volume=t.FinalVolume,t.component.clip=o,t.component.play(),t.fadeOut&&s.wait(.6*t.component.duration,(function(){t.runFadeOut(.4)}))}),this.debug)},i.stop=function(){this.component.stop()},i.playShoot=function(){var t=this;this.audio&&globalThis.resMgr.loadAudio(this.audio,(function(o){t.component.volume=t.FinalVolume,t.component.playOneShot(o),t.fadeOut&&s.wait(.6*t.component.duration,(function(){t.runFadeOut(.4)})),s.wait(t.component.duration,(function(){t.onEnd()}))}),this.debug)},i.onStart=function(){this.runFadeIn()},i.onEnd=function(){this.cb&&this.cb(),this.cbOnec&&this.cbOnec(),this.cbOnec=function(){},this.loop?this.play():this.cb=function(){}},i.runFadeIn=function(t,o){var i=this;if(void 0===t&&(t=.2),void 0===o&&(o=function(){}),this.debug&&console.log("渐显=>"+this.audio),this.fadeIn&&this.component.playing){this.debug&&console.log("渐显播放...");var n=this.loop?.3:0;s.FromTo(this.component.duration*t,n,1,(function(t){i.component.volume=i.FinalVolume*t}),"quadIn",o)}else o&&o()},i.runFadeOut=function(t,o){var i=this;if(void 0===t&&(t=.2),void 0===o&&(o=function(){}),this.debug&&console.log("渐隐=>"+this.audio),this.fadeOut&&this.component.playing){this.debug&&console.log("渐隐播放...");var n=this.loop?.3:0;s.FromTo(this.component.duration*t,1,n,(function(t){i.component.volume=i.FinalVolume*t}),"quadOut",o)}else o&&o()},i.switchTo=function(t,o){var i=this;void 0===o&&(o=function(){}),this.runFadeOut(.1,(function(){i.component.stop(),i.audio=t,i.play(),o&&o()}))},o(t,[{key:"volume",set:function(t){var o=this;this.component.playing?s.FromTo(.5,this._volume,t,(function(t){o.component.volume=u.limit(t*o._volumeScale,0,1)}),"linear",(function(){o._volume=t})):this._volume=t}},{key:"volumeScale",set:function(t){var o=this;this.component.playing?s.FromTo(.5,this._volumeScale,t,(function(t){o.component.volume=u.limit(t*o._volume,0,1)}),"linear",(function(){o._volumeScale=t})):this._volumeScale=t}},{key:"FinalVolume",get:function(){return u.limit(this._volume*this._volumeScale,0,1)}}]),t}());t("AudioMgr",function(){function t(){this.BG=void 0,this.Music=void 0,this.Effect=void 0,this.EffectOne=void 0,this.Story=void 0,this.BG=new c,this.Music=new c,this.Effect=new c,this.Story=new c}var o=t.prototype;return o.switchBG=function(t,o){void 0===o&&(o=!1),this.BG.fadeIn=!0,this.BG.fadeOut=!0,this.BG.loop=!0,this.BG.debug=o,this.BG.switchTo(t)},o.playMusic=function(t,o,i,n,e){void 0===i&&(i=!1),void 0===n&&(n=function(){}),void 0===e&&(e=!1),this.Music.fadeIn=!0,this.Music.audio=t,this.Music.loop=i,this.Music.cb=n,this.Music.volume=o,this.Music.debug=e,this.Music.play()},o.playEffect=function(t,o,i,n,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.Effect.fadeIn=!0,this.Effect.audio=t,this.Effect.loop=i,this.Effect.cb=n||function(){return null},this.Effect.volume=o,this.Effect.debug=e,this.Effect.play()},o.playOneShot=function(t,o,i,n){void 0===i&&(i=function(){}),void 0===n&&(n=!1),this.EffectOne.fadeIn=!0,this.EffectOne.audio=t,this.EffectOne.cb=i,this.EffectOne.loop=!1,this.EffectOne.volume=o,this.EffectOne.debug=n,this.EffectOne.playShoot()},o.playStory=function(t,o,i){void 0===i&&(i=function(){}),this.Story.component.volume=o,this.Story.component.clip=t,this.Story.loop=!1,this.Story.cb=i,this.Story.component.play()},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/AutoReleaseAssets.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(s){"use strict";var e,t,n,i,c;return{setters:[function(s){e=s.inheritsLoose},function(s){t=s.cclegacy,n=s._decorator,i=s.isValid,c=s.Component}],execute:function(){var a;t._RF.push({},"14d3eFts1hAi5xcbb4RyCLp","AutoReleaseAssets",void 0);var o=n.ccclass;n.property,n.menu,s("AutoReleaseAssets",o("AutoReleaseAssets")(a=function(s){function t(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=s.call.apply(s,[this].concat(n))||this).dynamicsAssets=[],e}e(t,s);var n=t.prototype;return n.addAutoReleaseAsset=function(s){i(s)&&(s.addRef(),this.dynamicsAssets.push(s))},n.releaseAllDynamics=function(){for(var s=0;s<this.dynamicsAssets.length;s++)i(this.dynamicsAssets[s])&&this.dynamicsAssets[s].decRef();this.dynamicsAssets=[]},n.onDestroy=function(){this.releaseAllDynamics()},t}(c))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/CComponentCustom.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,r=t.Component}],execute:function(){var s;o._RF.push({},"26799R5nOFN8bnvh2dP9TiQ","CComponentCustom",void 0);var u=e.ccclass;e.property,t("CComponentCustom",u("CComponentCustom")(s=function(t){function o(){return t.apply(this,arguments)||this}return n(o,t),o}(r))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/CEnum.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var o,i,d,t;e({ColorType:void 0,MsgCode:void 0,PageAniType:void 0,PageLeve:void 0}),n._RF.push({},"47fd3hz1lNDU5w9mxr8MfzT","CEnum",void 0),function(e){e["红"]="#d1414b",e["橙"]="#d28538",e["黄"]="#def784",e["绿"]="#9dcf09",e["青"]="#84edc8",e["蓝"]="#59b4de",e["紫"]="#cb2a98",e["粉"]="#d37994",e["白"]="#f7f9f7",e["灰"]="#c7d5c8",e["黑"]="#0f120f"}(o||(o=e("ColorType",{}))),function(e){e.main="main",e.submain="submain",e.tip="tip",e.guide="guide",e.top="top"}(i||(i=e("PageLeve",{}))),function(e){e[e.none=0]="none",e[e.fadeIn=1]="fadeIn",e[e.fadeOut=2]="fadeOut"}(d||(d=e("PageAniType",{}))),function(e){e[e.err=-1]="err",e[e.done=0]="done",e[e.ok=1]="ok"}(t||(t=e("MsgCode",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/CLog.ts",["cc","./env","./CEnum.ts"],(function(o){"use strict";var n,t,c;return{setters:[function(o){n=o.cclegacy},function(o){t=o.DEBUG},function(o){c=o.ColorType}],execute:function(){n._RF.push({},"67330cf45BPEKWB5/D1Ywjb","CLog",void 0);o("CLog",function(){function o(){}return o.getColor=function(o){return c[o%Object.keys(c).length]},o.getRandomColor=function(){return this.getColor[~~(Object.keys(c).length*Math.random())]},o.logList=function(o,n){if(void 0===n&&(n=t),n)for(var e=this.getRandomColor(),r=0;r<o.length;r++)console.log("%c"+o[r],"color:"+c.黑+";background:"+e)},o.log=function(o,n,e){void 0===n&&(n=c.绿),void 0===e&&(e=t),e&&console.log("%c"+o,"color:"+c.黑+";background:"+n)},o.err=function(o,n){void 0===n&&(n=t),n&&console.log("%c"+o,"color:"+c.白+";background:"+c.红)},o}());n._RF.pop()}}}));

System.register("chunks:///_virtual/CMath.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"4b478NzsvpOBq9OfkmXgxBE","CMath",void 0);t("CMath",function(){function t(){}return t.limit=function(t,n,c){return Math.min(Math.max(t,n),c)},t.swap=function(t,n,c){var u=t[n];t[n]=t[c],t[c]=u},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/CNodeCustom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoReleaseAssets.ts","./CTool.ts","./CTween.ts"],(function(t){"use strict";var o,n,e,i,r,s,l,a,u,p,c,h,f,g,v;return{setters:[function(t){o=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy,i=t._decorator,r=t.Node,s=t.isValid,l=t.Label,a=t.RichText,u=t.Sprite,p=t.Button,c=t.UIOpacity,h=t.Component},function(t){f=t.AutoReleaseAssets},function(t){g=t.CTool},function(t){v=t.CTween}],execute:function(){var d;e._RF.push({},"4a2a1+Vo2xFtI4pdpiX3i1J","CNodeCustom",void 0);var C=i.ccclass,y=(i.property,t("CNodeCustom",C("CNodeCustom")(d=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n}(h))||d),r.prototype.destroy);r.prototype.destroy=function(){var t;return null==globalThis||null==(t=globalThis.eventMgr)||t.offTarget(this),y.call(this)},r.prototype.addAutoReleaseAsset=function(t){var o=this.getComponent(f);s(o)||(o=this.addComponent(f)),o.addAutoReleaseAsset(t)},r.prototype.addAutoReleaseAssets=function(t){var o=this.getComponent(f);s(o)||(o=this.addComponent(f));for(var e,i=n(t);!(e=i()).done;){var r=e.value;o.addAutoReleaseAsset(r)}},r.prototype.setStr=function(t){var o=this.getComponent(l);o||(o=this.getComponent(a)),o&&(o.string=t)},r.prototype.setStrStep=function(t,o,n){var e=this;void 0===n&&(n=null),v.FromTo(String(t).length/o,0,String(t).length,(function(o){e.setStr(String(t).slice(0,o))}),null,(function(){n&&n()}))},r.prototype.setStrStepByTime=function(t,o,n){var e=this;void 0===n&&(n=null),v.FromTo(o,0,String(t).length,(function(o){e.setStr(String(t).slice(0,o))}),null,(function(){n&&n()}))},r.prototype.setRichStrStepByTime=function(t,o,n){void 0===n&&(n=null);var e=g.GetRichTextArrary(t),i=e.length-1,r=this.getComponent(a);v.FromTo(o,0,i,(function(t){r.string=e[~~(i-t)]}),null,(function(){n&&n()}))},r.prototype.setImg=function(t){var o=this.getComponent(u);o&&t&&(o.spriteFrame=t,this.addAutoReleaseAsset(t))},r.prototype.setImgRes=function(t){var o=this;globalThis.resMgr.loadImage(t,(function(t){o.setImg(t)}))},r.prototype.onClick=function(t,o,n){var e,i;void 0===o&&(o=-1),void 0===n&&(n={});var r=this.getComponent(p);r||(r=this.addComponent(p)),r.transition=null!=(null==(e=n)?void 0:e.transition)?null==(i=n)?void 0:i.transition:3,this.on(p.EventType.CLICK,(function(){o>0&&(r.interactable=!1,r.scheduleOnce((function(){r.interactable=!0}),o))}),this),this.on(p.EventType.CLICK,t,this)},r.prototype.offClick=function(t){this.off(p.EventType.CLICK,t,this)},r.prototype.clearClickEvents=function(){var t=this.getComponent(p);for(t||(t=this.addComponent(p));t.clickEvents.length>0;)t.clickEvents.pop()},r.prototype.onEvent=function(t,o){var n;null==globalThis||null==(n=globalThis.eventMgr)||n.on(t,o,this)},r.prototype.onEventMap=function(t){for(var o in t)for(var n=0;n<t[o].length;n++){var e;null==globalThis||null==(e=globalThis.eventMgr)||e.on(o,t[o][n],this)}},r.prototype.onEventList=function(t){for(var o=0;o<t.length;o++){var n,e;null==globalThis||null==(n=globalThis.eventMgr)||n.on(t[o][0],t[o][1],null!=(e=t[o])&&e[2]?t[o][2]:this)}},r.prototype.offEventList=function(t){for(var o=0;o<t.length;o++){var n,e;null==globalThis||null==(n=globalThis.eventMgr)||n.off(t[o][0],t[o][1],null!=(e=t[o])&&e[2]?t[o][2]:this)}},Object.defineProperty(r.prototype,"oparity",{configurable:!0,enumerable:!1,set:function(t){var o=this.getComponent(c);o||(o=this.addComponent(c)),o.opacity=t},get:function(){var t=this.getComponent(c);return t||(t=this.addComponent(c)),t.opacity}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,r,s;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,r=t.resources,s=t.TextAsset}],execute:function(){n._RF.push({},"b1744IDQ5tN14IV7rBDYZhr","ConfigMgr",void 0);t("ConfigMgr",function(){function t(){this.tables=null,this.tables=new Map}var e=t.prototype;return e.loadConfigDir=function(t,e){var n=this;r.loadDir(t,s,(function(t,r){if(!t){for(var s=0;s<r.length;s++){var i=r[s];n.createTable(i.name,i.text)}e&&e()}}))},e.loadConfig=function(t,e){var n=this;r.load(t,s,(function(t,r){n.createTable(r.name,r.text),e&&e()}))},e.createTable=function(t,e){var n=new i(t);n.init(e),this.tables.set(t,n)},t}());var i=t("ConfTable",function(){function t(t){this.cnindexs=void 0,this.keyIndexs=void 0,this.rows=void 0,this.objCache=void 0,this.names=void 0,this.types=void 0,this.name=void 0,this.cnindexs=new Map,this.keyIndexs=new Map,this.rows=new Array,this.objCache=new Map,this.names=new Array,this.types=new Map,this.name=t}var n=t.prototype;return n.init=function(t){var e,n,r,s=t.split(/\r\n|\r|\n/),i=0;if(s.length>i)for(n=s[i].split("\t"),e=s[++i].split("\t"),r=0;r<e.length;r++)this.names.push(this.decode(e[r])),this.types[this.names[r]]=n[r];for(i++;s.length>i&&""!=s[i];){e=s[i].split("\t");var o=new Map;for(r=0;r<e.length;r++)o.set(this.names[r],this.decode(e[r]));this.rows.push(o),i++}},n.convert=function(t,e){var n=this.types[t];if(null==n)return e;var r=0,s=null;if("bool"==n)return 0!=parseInt(e);if("string"==n)return e;if("float"==n)return parseFloat(e);if("int"==n)return parseInt(e);if("int[]"==n){if(""==e)return[];s=e.split(",");var i=[];for(r=0;r<s.length;r++)i[r]=parseInt(s[r]);return i}if("float[]"==n){if(""==e)return[];s=e.split(",");var o=[];for(r=0;r<s.length;r++)o[r]=parseFloat(s[r]);return o}return"string[]"==n?""==e?[]:s=e.split(","):e},n.convertToObjRow=function(t){for(var n,r=new Map,s=e(t.keys());!(n=s()).done;){var i=n.value,o=t.get(i);r.set(i,this.convert(i,o))}return r},n.getRowCount=function(){return this.rows.length},n.getKeysByIndex=function(t){if(0==this.keyIndexs.has(t)&&this.addIndex(t),0==this.keyIndexs.has(t))return null;var e=this.keyIndexs.get(t),n=[];return e&&e.length>0&&(n=e.concat()),n},n.getValue=function(t,e){var n=this.getRow(t);return null==n?null:n.get(e)},n.getRow=function(t){if(0==this.objCache.has(t)){if(t<0||t>=this.rows.length)return console.log("getRow获取配置表 数据为null"+t),null;var e=this.rows[t];if(null==e)return console.log("getRow获取配置表 数据为null"+t),null;this.objCache.set(t,this.convertToObjRow(e))}return this.objCache.get(t)},n.getValueByIndex=function(t,e,n){var r=this.getRowByIndex(t,e);return null==r?(console.error("getValueByIndex获取配置表 数据为null"+this.name+":"+t+":"+e+":"+n),null):r.has(n)?r.get(n):null},n.getRowByIndex=function(t,e){var n=this.getRowsByIndex(t,e);return null==n?null:n[0]},n.getRowsByIndex=function(t,e){0==this.cnindexs.has(t)&&this.addIndex(t);var n=this.cnindexs.get(t);return n&&n.has(e)?n.get(e):null},n.addIndex=function(t){for(var e=new Map,n=[],r=0;r<this.rows.length;r++){var s=this.rows[r],i=this.convertToObjRow(s),o=i.get(t);0==e.has(o)&&(e.set(o,new Array),n.push(o)),e.get(o).push(i)}this.cnindexs.set(t,e),this.keyIndexs.set(t,n)},n.getRawRows=function(){return this.rows},n.getRows=function(){for(var t=[],e=0;e<this.rows.length;e++)t.push(this.getRow(e));return t},n.encode=function(t){return t=(t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/\r\n/g,"&rn;")).replace(/\n/g,"&n;")).replace(/\r/g,"&r;")).replace(/\t/g,"&t;")},n.decode=function(t){return t=(t=(t=(t=(t=t.replace(/&t;/g,"\t")).replace(/&r;/g,"\r")).replace("&n;","\n")).replace("&rn;","\r\n")).replace("&amp;","&")},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/CPageDialogue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CTween.ts","./EnumMgr.ts"],(function(n){"use strict";var t,e,i,o,r,a,l,s,c,u,g,p,_,h,y,f,m,d,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.Node,s=n.v3,c=n.Layers,u=n.UITransform,g=n.v2,p=n.RichText,_=n.HorizontalTextAlignment,h=n.VerticalTextAlignment,y=n.Sprite,f=n.Component},function(n){m=n.CTween},function(n){d=n.EventType,b=n.ResPath}],execute:function(){var v,T,x,w,C,S,z,D,P,M,A,I,R;r._RF.push({},"a34e5+/BzBAaJ4RJn5rS4KC","CPageDialogue",void 0);var B=a.ccclass,E=a.property;n("CPageDialogue",(v=B("CPageDialogue"),T=E(l),x=E(l),w=E(l),C=E(l),S=E(l),v((P=t((D=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"n_bg",P,o(t)),i(t,"n_name",M,o(t)),i(t,"n_img",A,o(t)),i(t,"n_InfoBG",I,o(t)),i(t,"n_next",R,o(t)),t.n_content=void 0,t._over=!1,t._next=!1,t._list=[],t._pos=[s(-200,120,0),s(200,120,0)],t}e(t,n);var r=t.prototype;return r.start=function(){var n=this;this.n_bg.onClick((function(){n._next&&n._play()})),m.upDown(this.n_next)},r.onEnable=function(){this.n_next.active=!1,globalThis.eventMgr.on(d.Story_Play,this.play,this)},r.onDisable=function(){globalThis.eventMgr.off(d.Story_Play,this.play,this)},r.init=function(n){this.play(n)},r.play=function(n){var t=this;this._over=!1,this._next=!1;var e=new l;this.n_InfoBG.addChild(e),e.setPosition(-300,50),e.layer=c.Enum.UI_2D,e.addComponent(u).anchorPoint=g(0,1);var i=e.addComponent(p);i.horizontalAlign=_.LEFT,i.verticalAlign=h.CENTER,i.fontSize=30,i.maxWidth=600,i.lineHeight=40,this.n_content=e,globalThis.resMgr.loadJson(b.StroyJson+"story",(function(e){t._list=e[n],t._play()}))},r._play=function(){var n=this,t=this._list.shift();t?globalThis.resMgr.loadAudio(b.StroyAudio+t.audio,(function(e){try{e||console.error(t.id,"音效未找到");var i=e.getDuration();n.n_name.setStr(t.name),n.n_content.setRichStrStepByTime(t.text,i),n.n_img.setImgRes(b.StroyImg+t.img),"left"==t.pos?n.n_img.position=n._pos[0]:"right"==t.pos&&(n.n_img.position=n._pos[1]),globalThis.audioMgr.playStory(e,1),n.scheduleOnce((function(){t.auto?n._list.length<1?globalThis.windowMgr.close(n.node):n._play():(n.n_next.active=!0,n._next=!0)}),i+1)}catch(n){console.error(t.id,t,n)}})):globalThis.windowMgr.close(this.node)},r.unuse=function(){this.n_name.setStr(""),this.n_content.destroy(),this.n_img.getComponent(y).spriteFrame=null},t}(f)).prototype,"n_bg",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(D.prototype,"n_name",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(D.prototype,"n_img",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(D.prototype,"n_InfoBG",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(D.prototype,"n_next",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=D))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/CPageGamePinTu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CEnum.ts","./CMath.ts","./ActionMgr.ts","./EnumMgr.ts"],(function(n){"use strict";var t,i,e,o,s,r,a,c,h,u,p,_,l,w,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){s=n.cclegacy,r=n._decorator,a=n.Node,c=n.v2,h=n.v3,u=n.tween,p=n.Component},function(n){_=n.PageLeve},function(n){l=n.CMath},function(n){w=n.ActionMgr},function(n){f=n.PageType}],execute:function(){var d,v,g,y,x;s._RF.push({},"392e8eDssBN140HJ2c4fxHX","CPageGamePinTu",void 0);var P=r.ccclass,m=r.property;n("CPageGamePinTu",(d=P("CPageGamePinTu"),v=m({type:a,displayName:""}),d((x=t((y=function(n){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=n.call.apply(n,[this].concat(s))||this,e(t,"pintu",x,o(t)),t._unit=c(158,149),t._content=c(4,3),t._answer=void 0,t._now=void 0,t._swapA=void 0,t._swapB=void 0,t}i(t,n);var s=t.prototype;return s.onEnable=function(){this._answer=this.initAnswer(),this._now=this.initDisturb(),this.initShow()},s.onBing=function(){},s.initShow=function(){var n=this;this.pintu.children.forEach((function(t,i){t.setPosition(n._now[i]),t.onClick((function(){n.onClick(t,i)}))}))},s.initDisturb=function(){for(var n=[],t={},i=this._content.x*this._content.y,e=0;e<i;e++)n.push(e);for(var o=i-1;o>=0;o--)l.swap(n,o,~~(Math.random()*o));console.log(n);for(var s=0;s<i;s++)t[s]=this._answer[n[s]];return t},s.initAnswer=function(){for(var n={},t=0,i=0;i<this._content.y;i++)for(var e=0;e<this._content.x;e++)n[t++]=h((e-this._content.x/2+.5)*this._unit.x,(this._content.y/2-i-.5)*this._unit.y,0);return n},s.onClick=function(n,t){var i=this;if(this._swapA){this._swapB={node:n,index:t},u(this._swapA.node).to(.3,{position:this._now[this._swapB.index]}).start(),u(this._swapB.node).to(.3,{position:this._now[this._swapA.index]}).start();var e=this._now[this._swapB.index];this._now[this._swapB.index]=this._now[this._swapA.index],this._now[this._swapA.index]=e,this._swapA=null,this._swapB=null,this.checkOver()&&globalThis.windowMgr.open(f.CPageTipOK,_.tip,{info:"游戏结束",callBack:function(){w.runEvent("增加进度:结婚照"),w.runEvent("隐藏细节:8"),i.node.destroy()}})}else this._swapA={node:n,index:t}},s.checkOver=function(){for(var n=!0,t=this._content.x*this._content.y,i=0;i<t;i++)n=n&&this._now[i]==this._answer[i];return n},s.refreshShow=function(n){this.pintu.children.forEach((function(t,i){var e=n[Number(t.name)];e?t.setPosition(e):console.log("未找到位置")}))},t}(p)).prototype,"pintu",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/CPageGoto.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,e,n,r;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,r=t.Component}],execute:function(){var c;e._RF.push({},"bc1f99+mDdCXqngKBTzp5ak","CPageGoto",void 0);var u=n.ccclass;n.property,t("CPageGoto",u("CPageGoto")(c=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.start=function(){},n.update=function(t){},e}(r))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/CPageLog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CEnum.ts","./EnumMgr.ts"],(function(e){"use strict";var t,a,o,n,i,r,s,l,g,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,r=e._decorator,s=e.Node,l=e.Component},function(e){g=e.PageLeve},function(e){u=e.PageType,c=e.LocalType}],execute:function(){var p,d,h,b,f,y,P;i._RF.push({},"d14f7ZbLvJEdZQpIubhIDUc","CPageLog",void 0);var C=r.ccclass,m=r.property;e("CPageLog",(p=C("CPageLog"),d=m({type:s,displayName:"开始游戏"}),h=m({type:s,displayName:"重置"}),p((y=t((f=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,o(t,"n_start",y,n(t)),o(t,"n_reset",P,n(t)),t}a(t,e);var i=t.prototype;return i.start=function(){var e=[u.CPageReset,u.CPageRoom,u.CPageUI,u.CPageMsgTip],t=globalThis.localDataMgr.getData(c.firstGame);(null==t||t)&&e.push(u.CPageNotes),globalThis.resMgr.proLoadPrefab(e,null,this.onBind.bind(this))},i.onBind=function(){var e=this;this.n_start.onClick((function(t){var a=globalThis.localDataMgr.getData(c.firstGame);null==a||a?(e.node.destroy(),globalThis.windowMgr.open(u.CPageNotes,g.submain)):(e.node.destroy(),globalThis.windowMgr.open(u.CPageRoom,g.main),globalThis.windowMgr.open(u.CPageUI,g.main)),globalThis.audioMgr.Music.stop()})),this.n_reset.onClick((function(){globalThis.windowMgr.open(u.CPageReset,g.submain)}))},t}(l)).prototype,"n_start",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(f.prototype,"n_reset",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/CPageMsgTip.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,l,o,r,a,n,s,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,l=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,n=e.Node,s=e.tween,p=e.v3,c=e.Component}],execute:function(){var u,g,b,y,h,d,f,v,A;r._RF.push({},"226351g64JLGppt0rIGmmxr","CPageMsgTip",void 0);var N=a.ccclass,m=a.property;e("CPageMsgTip",(u=N("CPageMsgTip"),g=m(n),b=m(n),y=m(n),u((f=t((d=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,l(t,"bg",f,o(t)),l(t,"NodeAll",v,o(t)),l(t,"label",A,o(t)),t}i(t,e);var r=t.prototype;return r.init=function(e){var t=this;this.label.setStr(e.text),s(this.NodeAll).set({position:p(0,0,0),oparity:125,scale:p(1,0,1)}).to(.2,{oparity:255,scale:p(1.1,1.2,1)}).to(.05,{oparity:255,scale:p(1,1,1)}).delay(1).to(.5,{position:p(0,600,0),oparity:0}).call((function(){globalThis.poolMgr.put(t.node)})).start()},r.unuse=function(){this.label.setStr(""),s(this.NodeAll).stop(),this.NodeAll.position=p(0,0,0),this.NodeAll.oparity=125,this.NodeAll.scale=p(1,0,1)},t}(c)).prototype,"bg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(d.prototype,"NodeAll",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(d.prototype,"label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=d))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/CPageNotes.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CEnum.ts","./EnumMgr.ts"],(function(e){"use strict";var t,o,n,r,i,a,s,c,l,u,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Node,c=e.Component},function(e){l=e.PageLeve},function(e){u=e.LocalType,g=e.PageType}],execute:function(){var p,f,d,h,y;i._RF.push({},"400d8O8gGdCvI9r+OO+ec/r","CPageNotes",void 0);var b=a.ccclass,C=a.property;e("CPageNotes",(p=b("CPageNotes"),f=C(s),p((y=t((h=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"bg",y,r(t)),t}return o(t,e),t.prototype.start=function(){var e=this;this.scheduleOnce((function(){e.bg.onClick((function(){globalThis.localDataMgr.setData(u.firstGame,!1),e.node.destroy(),globalThis.windowMgr.open(g.CPageRoom,l.main),globalThis.windowMgr.open(g.CPageUI,l.main)}))}),2)},t}(c)).prototype,"bg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/CPageOpenEyes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,o,c,a,r,s,u,p,l,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){c=e.cclegacy,a=e._decorator,r=e.Node,s=e.UIOpacity,u=e.UITransform,p=e.Size,l=e.tween,y=e.Component}],execute:function(){var g,h,z,f,w,S,b;c._RF.push({},"4ef6asgeRNGhb+E9sGSuMQz","CPageOpenEyes",void 0);var d=a.ccclass,O=a.property;e("CPageOpenEyes",(g=d("CPageOpenEyes"),h=O(r),z=O(r),g((S=t((w=function(e){function t(){for(var t,n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return t=e.call.apply(e,[this].concat(c))||this,i(t,"content",S,o(t)),i(t,"eye",b,o(t)),t}n(t,e);var c=t.prototype;return c.start=function(){},c.init=function(e){"init"==e&&this.openEyes((function(){}))},c.openEyes=function(e){var t=this;this.content.getComponent(s).opacity=255;var n=this.eye.getComponent(u);n.contentSize=new p(n.contentSize.width,0),l(n).to(2,{contentSize:new p(n.contentSize.width,150)},{easing:"backInOut"}).to(.5,{contentSize:new p(n.contentSize.width,50)},{easing:"backOutIn"}).to(.5,{contentSize:new p(n.contentSize.width,180)},{easing:"backInOut"}).to(.5,{contentSize:new p(n.contentSize.width,60)},{easing:"backOutIn"}).to(1,{contentSize:new p(n.contentSize.width,400)},{easing:"backInOut"}).call((function(){l(t.content.getComponent(s)).to(.3,{opacity:0},{easing:"backOut"}).call(e).start()})).start()},c.unuse=function(){this.content.getComponent(s).opacity=255;var e=this.eye.getComponent(u);e.contentSize=new p(e.contentSize.width,0)},t}(y)).prototype,"content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(w.prototype,"eye",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=w))||f));c._RF.pop()}}}));

System.register("chunks:///_virtual/CPageProp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnumMgr.ts"],(function(e){"use strict";var t,i,r,n,o,l,a,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Node,s=e.Component},function(e){c=e.ResPath}],execute:function(){var u,p,g,f,b,h,y,d,m,P,v;o._RF.push({},"9c1dbn96f1K0reYcZ8I4Tff","CPageProp",void 0);var w=l.ccclass,z=l.property;e("CPageProp",(u=w("CPageProp"),p=z(a),g=z(a),f=z(a),b=z(a),u((d=t((y=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,r(t,"img",d,n(t)),r(t,"title",m,n(t)),r(t,"info",P,n(t)),r(t,"close",v,n(t)),t}i(t,e);var o=t.prototype;return o.start=function(){var e=this;this.close.onClick((function(){globalThis.windowMgr.close(e.node)}))},o.init=function(e){if(e){var t=globalThis.configMgr.tables.get("道具表").getRowByIndex("id",e);t&&(this.title.setStr(t.get("名字").split("").join(" ")),this.img.setImgRes(c.PropImg+t.get("图片")),this.info.setStr(t.get("备注")))}},o.update=function(e){},t}(s)).prototype,"img",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(y.prototype,"title",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(y.prototype,"info",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(y.prototype,"close",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/CPageReset.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,r,o,a,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Node,l=e.Component}],execute:function(){var c,u,p,y,f,g,d;o._RF.push({},"828e7j0jBZPf7Rn0+yysru+","CPageReset",void 0);var b=a.ccclass,h=a.property;e("CPageReset",(c=b("CPageReset"),u=h({type:s,displayName:"返回"}),p=h({type:s,displayName:"重置"}),c((g=t((f=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"n_back",g,r(t)),i(t,"n_reset",d,r(t)),t}n(t,e);var o=t.prototype;return o.start=function(){var e=this;this.n_back.onClick((function(){globalThis.windowMgr.close(e.node)})),this.n_reset.onClick((function(){globalThis.windowMgr.close(e.node)}))},o.update=function(e){},t}(l)).prototype,"n_back",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(f.prototype,"n_reset",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/CPageRoom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CRoomDetail.ts","./EnumMgr.ts"],(function(e){"use strict";var t,i,o,n,l,s,a,r,c,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,s=e._decorator,a=e.Node,r=e.Component},function(e){c=e.CRoomDetail},function(e){d=e.EventType}],execute:function(){var h,u,f,p,v;l._RF.push({},"3ed73XPiklI0LIDgY4oZjRO","CPageRoom",void 0);var g=s.ccclass,m=s.property;e("CPageRoom",(h=g("CPageRoom"),u=m(a),h((v=t((p=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,o(t,"nodeAll",v,n(t)),t.props=void 0,t.details=void 0,t.detail_close=void 0,t.eventList=[[d.Details_Hide,t.onDetailRefresh,n(t)],[d.Details_Show,t.onDetailRefresh,n(t)]],t}i(t,e);var l=t.prototype;return l.start=function(){var e=this;this.detail_close=this.nodeAll.getChildByName("details_close"),this.detail_close.onClick((function(){for(var t=e.details.children.length-1;t>=0;t--){var i=e.details.children[t],o=i.getComponent(c);if(i.active&&o&&o.n_id){globalThis.eventMgr.emit(d.Details_Hide,o.n_id);break}}}))},l.onEnable=function(){this.props=this.nodeAll.children[0].getChildByName("props"),this.details=this.nodeAll.children[0].getChildByName("details"),this.node.onEventList(this.eventList)},l.onDetailRefresh=function(){var e=this;this.scheduleOnce((function(){var t=!1;e.details.children.forEach((function(e){t=t||e.active})),e.detail_close.active=t}))},l.onDisable=function(){this.node.offEventList(this.eventList)},t}(r)).prototype,"nodeAll",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=p))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/CPageTipOk.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,r,l,a,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Node,c=t.Component}],execute:function(){var s,u,p,f,k,v,h;r._RF.push({},"6b8ae2gvAZL+LHvVnVrrVo9","CPageTipOk",void 0);var g=l.ccclass,y=l.property;t("CPageTipOk",(s=g("CPageTipOk"),u=y(a),p=y(a),s((v=e((k=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(e,"info",v,o(e)),n(e,"ok",h,o(e)),e.okEvent=void 0,e}i(e,t);var r=e.prototype;return r.start=function(){var t=this;this.ok.onClick((function(){t.okEvent&&t.okEvent(),globalThis.windowMgr.close(t.node)}))},r.init=function(t){null!=t&&t.info&&this.info.setStr(t.info),null!=t&&t.callBack&&(this.okEvent=t.callBack)},r.unuse=function(){this.okEvent=null,this.info.setStr("")},e}(c)).prototype,"info",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=e(k.prototype,"ok",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=k))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/CPageUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CEnum.ts","./CPageUIPropItem.ts","./EnumMgr.ts"],(function(t){"use strict";var e,n,o,i,r,l,a,s,p,g,h,u,c,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Node,s=t.Component},function(t){p=t.PageLeve},function(t){g=t.CPageUIPropItem},function(t){h=t.PageType,u=t.EventType,c=t.LocalType,b=t.PoolType}],execute:function(){var f,C,P,d,T,I,w,m,v,y,M,_,L;r._RF.push({},"5f60el1kuRIZK6ko5SxqdDP","CPageUI",void 0);var S=l.ccclass,k=l.property;t("CPageUI",(f=S("CPageUI"),C=k(a),P=k(a),d=k(a),T=k(a),I=k(a),f((v=e((m=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,o(e,"btnTip",v,i(e)),o(e,"btnShare",y,i(e)),o(e,"btnSet",M,i(e)),o(e,"btnCheck",_,i(e)),o(e,"propContent",L,i(e)),e._nowItemId=void 0,e}n(e,t);var r=e.prototype;return r.start=function(){var t=[h.CPageStory];globalThis.resMgr.proLoadPrefab(t,null,this.onBind.bind(this))},r.onEnable=function(){globalThis.eventMgr.on(u.Prop_Chose,this.onChose,this),globalThis.eventMgr.on(u.Prop_Refresh,this.refresPropList,this),this.refresPropList()},r.onDisable=function(){globalThis.eventMgr.off(u.Prop_Chose,this.onChose,this),globalThis.eventMgr.off(u.Prop_Refresh,this.refresPropList,this)},r.onChose=function(t,e){e&&e.show?this._nowItemId=e.id:this._nowItemId=null},r.onBind=function(){var t=this;this.btnTip.onClick((function(){globalThis.windowMgr.open(h.CPageMsgTip,p.tip,{text:"11111"})}),.3),this.btnShare.onClick((function(){globalThis.windowMgr.open(h.CPageMsgTip,p.tip,{text:"暂未开放"})}),.3),this.btnSet.onClick((function(){globalThis.windowMgr.open(h.CPageMsgTip,p.tip,{text:"暂未开放"})}),.3),this.btnCheck.onClick((function(){t._nowItemId&&globalThis.windowMgr.open(h.CPageProp,p.submain,t._nowItemId)}),.3)},r.refresPropList=function(){var t=this;globalThis.poolMgr.putChildren(this.propContent);var e=globalThis.localDataMgr.getData(c.bagList);e&&globalThis.poolMgr.getList(b.pagePropItem,e.length,(function(n){for(var o=0;o<n.length;o++)n[o].getComponent(g).init(e[o]),t.propContent.addChild(n[o])}))},r.onInputStoryId=function(t){var e=t.string;e&&globalThis.windowMgr.open(h.CPageStory,p.main,e)},e}(s)).prototype,"btnTip",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(m.prototype,"btnShare",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(m.prototype,"btnSet",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(m.prototype,"btnCheck",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(m.prototype,"propContent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=m))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/CPageUIProp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,o,n;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,n=e.Component}],execute:function(){var c;t._RF.push({},"0e2f7WT/LRBGIPMGkgQz9z4","CPageUIProp",void 0);var s=o.ccclass;o.property,e("CPageUIProp",s("CPageUIProp")(c=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(n))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/CPageUIPropItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnumMgr.ts"],(function(t){"use strict";var i,e,o,n,r,s,a,l,c,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node,l=t.Component},function(t){c=t.EventType,h=t.ResPath}],execute:function(){var g,u,p,f,m,v,d;r._RF.push({},"77efekErddNx5H9YiSjtzEV","CPageUIPropItem",void 0);var I=s.ccclass,P=s.property;t("CPageUIPropItem",(g=I("CPageUIPropItem"),u=P(a),p=P(a),g((v=i((m=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,o(i,"light",v,n(i)),o(i,"img",d,n(i)),i._itemId=void 0,i}e(i,t);var r=i.prototype;return r.start=function(){this.light.active=!1},r.onEnable=function(){globalThis.eventMgr.on(c.Prop_Chose,this.onChose,this)},r.onDisable=function(){globalThis.eventMgr.off(c.Prop_Chose,this.onChose,this)},r.init=function(t){var i=this;if(t){this._itemId=t;var e=globalThis.configMgr.tables.get("道具表").getRowByIndex("id",t);e&&(this.img.setImgRes(h.PropImg+e.get("图片")),this.img.onClick((function(){i.light.active=!i.light.active,globalThis.eventMgr.emit(c.Prop_Chose,{id:i._itemId,show:i.light.active})})))}},r.onChose=function(t,i){this._itemId==i.id?this.light.active=i.show:this.light.active=!1},i}(l)).prototype,"light",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=i(m.prototype,"img",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=m))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/CPropRoomItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnumMgr.ts"],(function(t){"use strict";var o,r,e,i,n,p,c,s,a;return{setters:[function(t){o=t.applyDecoratedDescriptor,r=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,p=t._decorator,c=t.CCString,s=t.Component},function(t){a=t.EventType}],execute:function(){var l,u,m,f,d;n._RF.push({},"37669Ol27pE4Lp0LduslbS8","CPropRoomItem",void 0);var h=p.ccclass,y=p.property;t("CPropRoomItem",(l=h("CPropRoomItem"),u=y(c),l((d=o((f=function(t){function o(){for(var o,r=arguments.length,n=new Array(r),p=0;p<r;p++)n[p]=arguments[p];return o=t.call.apply(t,[this].concat(n))||this,e(o,"prop_id",d,i(o)),o}return r(o,t),o.prototype.start=function(){var t=this;this.node.onClick((function(){globalThis.eventMgr.emit(a.Prop_RoomClick,t.prop_id)}))},o}(s)).prototype,"prop_id",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=f))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/CRoomClickAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ActionMgr.ts"],(function(t){"use strict";var n,i,o,r,c,e,a,l,s;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){c=t.cclegacy,e=t._decorator,a=t.CCString,l=t.Component},function(t){s=t.ActionMgr}],execute:function(){var u,p,f,C,h;c._RF.push({},"241e6NFVnRFG6SX4IztzvcK","CRoomClickAction",void 0);var v=e.ccclass,y=e.property;t("CRoomClickAction",(u=v("CRoomClickAction"),p=y([a]),u((h=n((C=function(t){function n(){for(var n,i=arguments.length,c=new Array(i),e=0;e<i;e++)c[e]=arguments[e];return n=t.call.apply(t,[this].concat(c))||this,o(n,"action",h,r(n)),n}i(n,t);var c=n.prototype;return c.start=function(){var t=this;this.node.onClick((function(){t.onClick()}),.1,{transition:2})},c.onClick=function(){this.action&&this.action.forEach((function(t){return s.runEvent(t)}))},n}(l)).prototype,"action",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=C))||f));c._RF.pop()}}}));

System.register("chunks:///_virtual/CRoomDetail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnumMgr.ts","./ActionMgr.ts"],(function(t){"use strict";var i,n,e,o,r,s,c,a,l,u,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,c=t._decorator,a=t.CCString,l=t.Component},function(t){u=t.EventType},function(t){f=t.ActionMgr}],execute:function(){var h,g,d,v,p;s._RF.push({},"2cefcOIzQNG672UvthvV0ag","CRoomDetail",void 0);var _=c.ccclass,D=c.property;t("CRoomDetail",(h=_("CRoomDetail"),g=D(a),h((p=i((v=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,e(i,"n_id",p,o(i)),i._config=void 0,i._eventList=[[u.Details_Hide,i.onDetailHide,o(i)],[u.Details_Show,i.onDetailShow,o(i)]],i}n(i,t);var s=i.prototype;return s.start=function(){var t=this;this.node.onClick((function(){f.runEvent(t.config.get("点击效果"))}),.3,{transition:0}),this.node.onEventList(this._eventList),this.node.active=!1},s.onDestroy=function(){this.node.offEventList(this._eventList)},s.onDetailHide=function(t,i){this.n_id==i&&(this.node.active=!1)},s.onDetailShow=function(t,i){this.n_id==i&&(this.node.active=!0)},r(i,[{key:"config",get:function(){return this._config||(this._config=globalThis.configMgr.tables.get("细节场景表").getRowByIndex("id",this.n_id)),this._config}}]),i}(l)).prototype,"n_id",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=v))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/CRoomItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnumMgr.ts","./ActionMgr.ts"],(function(t){"use strict";var n,i,e,o,c,r,s,h,a,f,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,c=t.createClass},function(t){r=t.cclegacy,s=t._decorator,h=t.CCString,a=t.Component},function(t){f=t.EventType},function(t){u=t.ActionMgr}],execute:function(){var g,l,d,p,v;r._RF.push({},"59a6fpSMitEPpNSgZRSgSrs","CRoomItem",void 0);var m=s.ccclass,_=s.property;t("CRoomItem",(g=m("CRoomItem"),l=_(h),g((v=n((p=function(t){function n(){for(var n,i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return n=t.call.apply(t,[this].concat(c))||this,e(n,"n_id",v,o(n)),n._config=void 0,n.eventList=[[f.Item_Hide,n.onItemHide,o(n)],[f.Item_Show,n.onItemShow,o(n)],[f.Item_Refresh,n.checkShow,o(n)]],n}i(n,t);var r=n.prototype;return r.start=function(){var t=this;this.node.onClick((function(){t.onClick()}),.1,{transition:2}),this.node.onEventList(this.eventList),this.checkShow()},r.onDestroy=function(){this.node.offEventList(this.eventList)},r.checkShow=function(){var t=!0,n=this.config.get("显示条件");n.forEach((function(n){t=t&&u.getCheck(n)})),(n=this.config.get("隐藏条件")).forEach((function(n){t=t&&!u.getCheck(n)})),this.node.active=t},r.onClick=function(){var t=this.config.get("点击效果");t&&t.forEach((function(t){return u.runEvent(t)}))},r.onItemHide=function(t,n){this.n_id==n&&(this.node.active=!1)},r.onItemShow=function(t,n){this.n_id==n&&(this.node.active=!0)},c(n,[{key:"config",get:function(){return this._config||(this._config=globalThis.configMgr.tables.get("物品表").getRowByIndex("id",this.n_id)),this._config}}]),n}(a)).prototype,"n_id",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=p))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/CRoomMove.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CMath.ts"],(function(i){"use strict";var t,n,e,o,s,r,h,a,u,c,l,m,p;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.createClass},function(i){r=i.cclegacy,h=i._decorator,a=i.UITransform,u=i.CCBoolean,c=i.Node,l=i.v3,m=i.Component},function(i){p=i.CMath}],execute:function(){var f,d,_,v,y,g,Y,X,x;r._RF.push({},"86f39BczdBBs66r7CIYDcpO","CRoomMove",void 0);var I=h.ccclass,U=h.property;i("CRoomMove",(f=I("CRoomMove"),d=U(a),_=U(u),v=U(u),f((Y=t((g=function(i){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=i.call.apply(i,[this].concat(s))||this,e(t,"ParentUI",Y,o(t)),e(t,"lockX",X,o(t)),e(t,"lockY",x,o(t)),t._ui=void 0,t._maxX=void 0,t._minX=void 0,t._maxY=void 0,t._minY=void 0,t}n(t,i);var r=t.prototype;return r.start=function(){this.ParentUI||(this.ParentUI=this.node.parent.getComponent(a)),this.refreshSize()},r.onEnable=function(){},r.onDisable=function(){this.node.off(c.EventType.TOUCH_MOVE,this.onTouchMove,this)},r.refreshSize=function(){this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this._minX=this.minX,this._maxX=this.maxX,this._minY=this.minY,this._maxY=this.maxY,console.log(this._minX,this._maxX,this._minY,this._maxY)},r.onTouchMove=function(i){if(i){var t=i.getUIDelta().x,n=i.getUIDelta().y,e=p.limit(this.node.position.x+t,this._minX,this._maxX),o=p.limit(this.node.position.y+n,this._minY,this._maxY);this.node.position=l(e,o,0)}},s(t,[{key:"ui",get:function(){return this._ui||(this._ui=this.node.getComponent(a)),this._ui}},{key:"minX",get:function(){return this.lockX?this.ui.node.position.x:-this.ui.width*(1-this.ui.anchorX)+this.ParentUI.width*(1-this.ParentUI.anchorX)}},{key:"maxX",get:function(){return this.lockX?this.ui.node.position.x:this.ui.width*this.ui.anchorX-this.ParentUI.width*this.ParentUI.anchorX}},{key:"minY",get:function(){return this.lockY?this.ui.node.position.y:-this.ui.height*(1-this.ui.anchorY)+this.ParentUI.height*(1-this.ParentUI.anchorY)}},{key:"maxY",get:function(){return this.lockY?this.ui.node.position.y:this.ui.height*this.ui.anchorY-this.ParentUI.height*this.ParentUI.anchorY}}]),t}(m)).prototype,"ParentUI",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(g.prototype,"lockX",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=t(g.prototype,"lockY",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=g))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/CTool.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3d6c77MkVVPFIP0rUjdNR0j","CTool",void 0);t("CTool",function(){function t(){}return t.GetRichTextArrary=function(t){for(var e=t.replace(/<.+?\/?>/g,"").split(""),n=[t],r=e.length;r>1;r--){var c=n[e.length-r],o=c.lastIndexOf(e[r-1]),u=c.slice(0,o),i=c.slice(o+1,c.length);n.push(u+i)}return n},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/CTween.ts",["cc","./CEnum.ts"],(function(t){"use strict";var n,e,i,a;return{setters:[function(t){n=t.cclegacy,e=t.tween,i=t.v3},function(t){a=t.PageAniType}],execute:function(){n._RF.push({},"50301TQTfZFQ7LPz5MFGPVS","CTween",void 0);t("CTween",function(){function t(){}return t.runPageAni=function(t,n,e){switch(n){case a.none:e&&e();break;case a.fadeIn:this.fadeIn(t,.4,e);break;case a.fadeOut:this.fadeOut(t,.4,e)}},t.FromTo=function(t,n,i,a,o,c){void 0===o&&(o="linear");var r={val:n};e(r).to(t,{val:i},{easing:o,onUpdate:function(){a(r.val)}}).call(c).start()},t.wait=function(t,n){e({val:0}).delay(t).call(n).start()},t.fadeIn=function(t,n,i){void 0===n&&(n=.5),e(t).set({oparity:0}).to(n,{oparity:255},{easing:"circIn"}).call(i).start()},t.fadeOut=function(t,n,i){void 0===n&&(n=.5),e(t).set({oparity:255}).to(n,{oparity:0},{easing:"circOut"}).call(i).start()},t.upDown=function(t,n,a){void 0===n&&(n=10),void 0===a&&(a=.3),e(t).by(a,{position:i(0,n,0)}).by(a,{position:i(0,-n,0)}).union().repeatForever().start()},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/DebugMgr.ts",["cc","./env"],(function(t){"use strict";var n,u;return{setters:[function(t){n=t.cclegacy},function(t){u=t.DEBUG}],execute:function(){n._RF.push({},"b6638e9mupFBqqeLm03KtGj","DebugMgr",void 0);t("DebugMgr",function(){function t(){}return t.updataSwitch=function(){globalThis.poolMgr.log=u,globalThis.windowMgr.log=u},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/EnumMgr.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){e({AudioType:void 0,EventType:void 0,LocalType:void 0,PageType:void 0,PoolType:void 0,ResPath:void 0}),a._RF.push({},"14c06q2ljJDBIp8zWRWFSW8","EnumMgr",void 0);var o,s,t,g,p,r;e("GameProLoadPageList",["prefabs/pages/CPageLog"]);!function(e){e.playInfo="playInfo",e.firstGame="firstGame",e.progress="progress",e.bagList="bagList"}(o||(o=e("LocalType",{}))),function(e){e.CPageTipOK="prefabs/common/CPageTipOK",e.CPageLog="prefabs/pages/CPageLog",e.CPageNotes="prefabs/pages/CPageNotes",e.CPageReset="prefabs/pages/CPageReset",e.CPageRoom="prefabs/pages/CPageRoom",e.CPageRoomDetail="prefabs/pages/CPageRoomDetail",e.CPageUI="prefabs/pages/CPageUI",e.CPageUITip="prefabs/pages/CPageUITip",e.CPageUIShare="prefabs/pages/CPageUIShare",e.CPageUISet="prefabs/pages/CPageUISet",e.CPageProp="prefabs/pages/CPageProp",e.CPageMsgTip="prefabs/common/CPageMsgTip",e.CPageStory="prefabs/pages/CPageDialogue",e.CPageOpenEyes="prefabs/animation/CPageOpenEyes",e.CPageGamePinTu="prefabs/pages/CPageGamePinTu"}(s||(s=e("PageType",{}))),function(e){e.UI="UI",e.Page="Page",e.Page_Close="Page_Close",e.Data="Data",e.Game_Start="Game_Start",e.UI_Money="UI_Money",e.Story_Play="Story_play",e.Prop_RoomClick="Prop_RoomClick",e.Prop_BagUse="Prop_BagUse",e.Item_Show="Item_Show",e.Item_Hide="Item_Hide",e.Item_Refresh="Item_Refresh",e.Prop_Get="Prop_Get",e.Prop_Refresh="Prop_Refresh",e.Prop_Chose="Prop_Chose",e.Details_Show="Details_Show",e.Details_Hide="Details_Hide"}(t||(t=e("EventType",{}))),function(e){e.baseNode="a/b/c",e.pagePropItem="prefabs/item/CPageUIPropItem"}(g||(g=e("PoolType",{}))),function(e){e.start="audio/music/雨声"}(p||(p=e("AudioType",{}))),function(e){e.Config="config/text/",e.StroyJson="config/story/",e.StroyImg="textures/story/",e.StroyAudio="audio/story/",e.ItemImg="textures/item/",e.PropImg="textures/prop/"}(r||(r=e("ResPath",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["cc","./EnumMgr.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.cclegacy,n=t.js},function(t){i=t.EventType}],execute:function(){e._RF.push({},"bd953GbOMZC96r9dRYUtEa2","EventMgr",void 0);var r=n.array.fastRemoveAt,a=function(t,e){this.target=void 0,this.callback=void 0,this.target=t,this.callback=e};t("EventMgr",function(){var t=e.prototype;function e(){for(var t in this._eventList={},this._eventMap={},i)for(var e=t.split("_"),n=0;n<e.length-1;n++){var r=this.getKey(e,0,n);this._eventMap[r]||(this._eventMap[r]=[]),this._eventMap[r].push(e[n+1])}}return t.getKey=function(t,e,n){for(var i="",r=Math.min(n,t.length),a=e;a<=r;a++)i+=t[a],a<r-1&&(i+="_");return i},t.on=function(t,e,n){var i=new a(n,e);this._eventList[t]=this._eventList[t]||[],this._eventList[t].push(i)},t.off=function(t,e,n){var i=this._eventList[t];if(i)for(var a=i.length,s=0;s<a;s++)i[s].target==n&&i[s].callback==e&&(r(i,s),--s,--a)},t.emit=function(t,e,n){void 0===n&&(n=!1);var i=this._eventList[t];if(i)for(var r=i.length,a=0;a<r;a++){var s,v;null==(s=i[a])||null==(v=s.callback)||v.call(i[a].target,t,e)}if(n){var f=this._eventMap[t];if(f&&!(f.length<1))for(var o=0;o<f.length;o++)this.emit(t+"_"+f[o],e)}},t.offTarget=function(t){for(var e in this._eventList){var n=this._eventList[e];if(n)for(var i=n.length,a=0;a<i;a++)n[a].target==t&&(r(n,a),--a,--i)}},t.offEvent=function(t){this._eventList[t]=null},e}());e._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnumMgr.ts","./AudioMgr.ts","./ConfigMgr.ts","./EventMgr.ts","./LocalDataMgr.ts","./PoolMgr.ts","./ResMgr.ts","./WindowMgr.ts"],(function(t){"use strict";var n,r,e,g,i,o,s,a,M,c,l;return{setters:[function(t){n=t.createClass},function(t){r=t.cclegacy},function(t){e=t.GameProLoadPageList,g=t.EventType},function(t){i=t.AudioMgr},function(t){o=t.ConfigMgr},function(t){s=t.EventMgr},function(t){a=t.LocalDataMgr},function(t){M=t.PoolMgr},function(t){c=t.ResMgr},function(t){l=t.WindowMgr}],execute:function(){r._RF.push({},"fcff3bF1PZIzrHmilEE3xMw","GameManager",void 0),t("GameManager",function(){function t(){this._resMgr=void 0,this._poolMgr=void 0,this._audioMgr=void 0,this._eventMgr=void 0,this._windowMgr=void 0,this._localDataMgr=void 0,this._configMgr=void 0}return t.getInstance=function(){return this._getInstance||(this._getInstance=new t),this._getInstance},t.init=function(){globalThis.resMgr=t.getInstance().resMgr,globalThis.eventMgr=t.getInstance().eventMgr,globalThis.poolMgr=t.getInstance().poolMgr,globalThis.audioMgr=t.getInstance().audioMgr,globalThis.windowMgr=t.getInstance().windowMgr,globalThis.localDataMgr=t.getInstance().localDataMgr,globalThis.configMgr=t.getInstance().configMgr,globalThis.resMgr.proLoadPrefab(e,(function(){}),(function(t){for(var n=[],r=0;r<t;r++)n.push(1);globalThis.poolMgr.proLoadList(e,n),globalThis.eventMgr.emit(g.Game_Start,null)}))},n(t,[{key:"resMgr",get:function(){return this._resMgr||(this._resMgr=new c),this._resMgr}},{key:"poolMgr",get:function(){return this._poolMgr||(this._poolMgr=new M),this._poolMgr}},{key:"audioMgr",get:function(){return this._audioMgr||(this._audioMgr=new i),this._audioMgr}},{key:"eventMgr",get:function(){return this._eventMgr||(this._eventMgr=new s),this._eventMgr}},{key:"windowMgr",get:function(){return this._windowMgr||(this._windowMgr=new l),this._windowMgr}},{key:"localDataMgr",get:function(){return this._localDataMgr||(this._localDataMgr=new a),this._localDataMgr}},{key:"configMgr",get:function(){return this._configMgr||(this._configMgr=new o),this._configMgr}}]),t}())._getInstance=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/LocalDataMgr.ts",["cc"],(function(t){"use strict";var a,e;return{setters:[function(t){a=t.cclegacy,e=t.sys}],execute:function(){a._RF.push({},"46a05VGptBA94bQ1H8hc2Mm","LocalDataMgr",void 0);t("LocalDataMgr",function(){function t(){this.tempData={},this.playId="playId_"}var a=t.prototype;return a.setTempData=function(t,a){this.tempData[t]=a},a.getTempData=function(t){return this.tempData[t]},a.setData=function(t,a){e.localStorage.setItem(this.playId+t,JSON.stringify(a))},a.getData=function(t){var a=e.localStorage.getItem(this.playId+t);if(a)try{return JSON.parse(a)}catch(t){return a}},a.addListItem=function(t,a,e){void 0===e&&(e=!1);var i=this.getData(t);i||(i=[]),!e&&i.indexOf(a)>=0||(i.push(a),this.setData(t,i))},a.checkListItem=function(t,a){var e=globalThis.localDataMgr.getData(t);return!!e&&e.indexOf(a)>=0},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./CEnum.ts","./GameManager.ts","./CComponentCustom.ts","./CNodeCustom.ts","./AudioMgr.ts","./AutoReleaseAssets.ts","./ConfigMgr.ts","./DebugMgr.ts","./EventMgr.ts","./LocalDataMgr.ts","./OrderMgr.ts","./PoolMgr.ts","./ResMgr.ts","./WindowMgr.ts","./CLog.ts","./CMath.ts","./CTool.ts","./CTween.ts","./CPropRoomItem.ts","./CRoomClickAction.ts","./CRoomDetail.ts","./CRoomItem.ts","./CPageUIPropItem.ts","./ActionMgr.ts","./EnumMgr.ts","./start.ts","./CPageDialogue.ts","./CPageGamePinTu.ts","./CPageGoto.ts","./CPageLog.ts","./CPageNotes.ts","./CPageOpenEyes.ts","./CPageProp.ts","./CPageReset.ts","./CPageRoom.ts","./CPageUI.ts","./CPageUIProp.ts","./CPageMsgTip.ts","./CPageTipOk.ts","./CRoomMove.ts","./reset.ts","./openEyes.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/openEyes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,s,n,a,p,l,o,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,p=e.Sprite,l=e.CCFloat,o=e.Vec2,u=e.Component}],execute:function(){var h,c,d,f,y,v,g,m,_;n._RF.push({},"3e271Ql4ElOwpSsTWvaaPm7","openEyes",void 0);var b=a.ccclass,S=a.property;e("openEyes",(h=b("openEyes"),c=S({type:p,displayOrder:3}),d=S({type:l,displayOrder:4}),f=S({type:l,displayOrder:5}),h((g=t((v=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,i(t,"sp",g,s(t)),i(t,"strengthX",m,s(t)),i(t,"strengthY",_,s(t)),t._material=null,t._pass=null,t.uvSpeed=new o(0,0),t.ifRun=!0,t}r(t,e);var n=t.prototype;return n.onLoad=function(){},n.onEnable=function(){this.sp&&this.sp.spriteFrame&&this.refresh()},n.refresh=function(){var e,t;this.sp.spriteFrame.texture.setWrapMode(0,0,0),this.sp.spriteFrame.texture.setFilters(1,1),this.sp.spriteFrame.texture.setMipFilter(1),this._material=null==(e=this.sp)?void 0:e.getMaterial(0),this._pass=null==(t=this._material)?void 0:t.passes[0]},n.update=function(e){var t;this.ifRun&&(null==(t=this._pass)||t.setUniform(this._pass.getHandle("u_uvSpeed"),this.uvSpeed),this.uvSpeed.x=(this.uvSpeed.x+this.strengthX*e)%1,this.uvSpeed.y=(this.uvSpeed.y+this.strengthY*e)%1)},t}(u)).prototype,"sp",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(v.prototype,"strengthX",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=t(v.prototype,"strengthY",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=v))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/OrderMgr.ts",["cc"],(function(r){"use strict";var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"aa358NtW3BHUpzHYf9ApVZU","OrderMgr",void 0);r("OrderMgr",function(){function r(){}return r.parse=function(r,t){if(r)for(var n=r.trim().split("|"),e=0;e<n.length;e++)for(var i=[],s=n[e].trim().split(","),a=0;a<s.length;a++)i.push(this.trans(s[a],t))},r.trans=function(r,t){for(var n=r.split(":"),e=[],i=1;i<n.length;i++){var s=n[i];t&&t.has(s)&&(s=t[s]),e.push(s)}return{type:n[0],val:e}},r.run=function(r){switch(r.type){case"openPanel":globalThis.windowMgr.open.call(r.val)}},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/PoolMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CEnum.ts","./CLog.ts"],(function(t){"use strict";var o,e,n,i,l;return{setters:[function(t){o=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy,n=t.instantiate},function(t){i=t.ColorType},function(t){l=t.CLog}],execute:function(){e._RF.push({},"bc389ycKtlCIbPqKHza89OK","PoolMgr",void 0);t("PoolMgr",function(){function t(){this._pool=void 0,this.log=!1,this._pool=new Map}var e=t.prototype;return e.getLength=function(t){return this._pool.has(t)?(this._pool.get(t)||[]).length:0},e.getNew=function(t,o){globalThis.resMgr.loadPrefab(t,(function(e){if(e){var i=n(e);i.path=t,null==o||o(i)}}),!0)},e.get=function(t,o){if(this._pool.has(t)){var e=this._pool.get(t)||[];if(e.length<1)l.log("pool(get)===>池中"+t+"为空,返回new 对象",i.绿,this.log),this.getNew(t,o);else{var n=e.pop();n.active=!0,l.log("pool(get)===>池中有"+t+",返回pop对象,剩余"+e.length,i.绿,this.log);for(var s=0;s<n.components.length;s++)n.components[s].reuse&&n.components[s].reuse();o(n)}}else this._pool.set(t,[]),l.log("pool(get)===>池中无"+t+",创建[],返回new 对象",i.绿,this.log),this.getNew(t,o)},e.getList=function(t,o,e){for(var n=[],i=0;i<o;i++)this.get(t,(function(t){n.push(t),n.length==o&&e(n)}))},e.getLists=function(t,o,e){var n=this,i={};!function l(s,r){if(!s||!r)return e(i);n.getList(s,s,(function(e){i[s]=e,l(t.pop(),o.pop())}))}(t.pop(),o.pop())},e.put=function(t){var o=t.path;if(o){t.active=!1,t.parent=null;for(var e=0;e<t.components.length;e++)t.components[e].unuse&&t.components[e].unuse();var n=this._pool.get(o)||[];if(n)n.find((function(o){return o.uuid==t.uuid}))?l.log("pool(put)===>回收"+o+",池中有已有该节点,现长"+n.length,i.绿,this.log):(n.push(t),l.log("pool(put)===>回收"+o+",现在节点池长:"+n.length,i.绿,this.log));else this._pool.set(o,[t]),l.log("pool(put)===>回收"+o+",新建节点池",i.绿,this.log)}else t.destroy()},e.putChildren=function(t){for(var o=t.children,e=o.length-1;e>=0;e--){var n=o[e];n&&this.put(n)}},e.putList=function(t){for(var o=t.length-1;o>=0;o--){var e=t[o];e&&this.put(e)}},e.clear=function(t){if(this._pool.has(t)){for(var o=this._pool.get(t)||[],e=o.length-1;e>=0;e--){var n=o[e];n&&n.destroy()}this._pool.delete(t)}l.log(this._pool,i.绿,this.log)},e.clearAll=function(){for(var t,e=o(this._pool);!(t=e()).done;){var n=t.value;this.clear(n[0])}},e.preLoad=function(t,o,e,n){var i=this;void 0===e&&(e=function(){}),void 0===n&&(n=!1);var l=this.getLength(t);if(n&&(o=Math.max(o-l,0)),o<=0)return e&&e();for(var s=0,r=0;r<o;r++)this.getNew(t,(function(t){i.put(t),++s==o&&e&&e()}))},e.proLoadList=function(t,o,e,n){void 0===e&&(e=function(){}),void 0===n&&(n=!1);for(var i=0,l=0;l<t.length;l++)this.preLoad(t[l],o[l],(function(){++i==t.length&&e&&e()}),n)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/reset.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnumMgr.ts"],(function(n){"use strict";var t,e,o,r,s,i;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,r=n.log,s=n.Component},function(n){i=n.EventType}],execute:function(){var c;e._RF.push({},"552fewZHoVFsLmaPJPNN6G6","reset",void 0);var u=o.ccclass;o.property,n("reset",u("reset")(c=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var o=e.prototype;return o.start=function(){this.node.onEvent(i.UI_Money,this.onUIMOney),this.node.onEvent(i.UI,this.onUI)},o.onUIMOney=function(){r("onUIMOney")},o.onUI=function(){r("UI")},o.update=function(n){},e}(s))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/ResMgr.ts",["cc","./CLog.ts"],(function(n){"use strict";var o,i,t,l,r,u,e,a,f;return{setters:[function(n){o=n.cclegacy,i=n.resources,t=n.Prefab,l=n.AudioClip,r=n.sp,u=n.SpriteFrame,e=n.JsonAsset,a=n.TiledMapAsset},function(n){f=n.CLog}],execute:function(){o._RF.push({},"f6650Q0SNRE9pR9IiXcDGWW","ResMgr",void 0);n("ResMgr",function(){function n(){this.log=!1}var o=n.prototype;return o.proLoadPrefab=function(n,o,i){var t=this;void 0===o&&(o=function(){}),void 0===i&&(i=function(){});for(var l=0,r=n.length,u=function(u){t.loadPrefab(n[u],(function(){l++,o&&o(u,r),l>=r&&i&&i(r)}))},e=0;e<r;e++)u(e)},o.loadPrefab=function(n,o,l){var r=this;void 0===l&&(l=!1),i.load(n,t,(function(n,i){if(n)return l&&f.err(n,r.log),null==o?void 0:o(null);null==o||o(i)}))},o.loadAudio=function(n,o,t){var r=this;void 0===t&&(t=!1),i.load(n,l,(function(i,l){return i?(t&&f.logList(["未找到音频:"+n,i],r.log),null==o||o(null),null):(null==o||o(l),l)}))},o.loadSpineData=function(n,o,t){var l=this;void 0===t&&(t=!1),i.load(n,r.SkeletonData,(function(n,i){if(n)return t&&f.err(n,l.log),null==o?void 0:o(null);null==o||o(i)}))},o.loadImage=function(n,o,t,l){var r=this;void 0===t&&(t=!1),void 0===l&&(l=!1),i.load(n+"/spriteFrame",u,(function(i,u){if(i)return t?r.loadImage(n,o,!1):(l&&f.err(i,r.log),o&&o(null));o&&o(u)}))},o.loadJson=function(n,o,t){var l=this;void 0===t&&(t=!1),i.load(n,e,(function(n,i){if(n)return t&&f.err(n,l.log),null==o?void 0:o(null);o&&o(JSON.parse(JSON.stringify(i.json)))}))},o.loadTiled=function(n,o,t){var l=this;void 0===t&&(t=!1),i.load(n,a,(function(n,i){if(n)return t&&f.err(n,l.log),null==o?void 0:o(null);o&&o(i)}))},n}());o._RF.pop()}}}));

System.register("chunks:///_virtual/start.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CEnum.ts","./GameManager.ts","./EnumMgr.ts"],(function(t){"use strict";var n,i,o,e,r,a,s,u,c,g;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,e=t.Component},function(t){r=t.PageLeve},function(t){a=t.GameManager},function(t){s=t.EventType,u=t.ResPath,c=t.AudioType,g=t.PageType}],execute:function(){var l;i._RF.push({},"5be44ftdy9DIargmzAbbL+/","start",void 0);var f=o.ccclass;o.property,t("start",f("start")(l=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var o=i.prototype;return o.start=function(){a.init(),globalThis.eventMgr.on(s.Game_Start,this.init,this),globalThis.configMgr.loadConfigDir(u.Config)},o.onDestroy=function(){globalThis.eventMgr.off(s.Game_Start,this.init,this)},o.init=function(){globalThis.audioMgr.BG.volumeScale=.5,globalThis.audioMgr.switchBG(c.start),globalThis.windowMgr.open(g.CPageLog,r.main)},o.onInitOver=function(){},i}(e))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/WindowMgr.ts",["cc","./CEnum.ts","./CLog.ts","./CTween.ts"],(function(n){"use strict";var o,e,t,i,a,r,g,l,s,c;return{setters:[function(n){o=n.cclegacy,e=n.Node,t=n.Layers,i=n.Widget,a=n.find},function(n){r=n.PageLeve,g=n.PageAniType,l=n.ColorType},function(n){s=n.CLog},function(n){c=n.CTween}],execute:function(){o._RF.push({},"54fb5lCFmNKsJHqVxVCkkhi","WindowMgr",void 0);n("WindowMgr",function(){function n(){this.log=!1,this.init()}var o=n.prototype;return o.getPageNode=function(n){var o=new e(n);o.layer=t.Enum.UI_2D;var a=o.addComponent(i);return a.alignFlags=63,a.left=0,a.right=0,a.top=0,a.bottom=0,o},o.init=function(){var n=a("Canvas/pages");if(n){for(var o in r){a(o,n)||n.addChild(this.getPageNode(o))}var e=0;for(var t in r){a(t,n).setSiblingIndex(e++)}}},o.open=function(n,o,e,t){var i=this;void 0===e&&(e=null),void 0===t&&(t=g.fadeIn),s.log("windowMgr===>请求打开"+o+"页面"+n,l.橙,this.log),globalThis.poolMgr.get(n,(function(r){if(a("Canvas/pages/"+o).addChild(r),r.components&&(c.runPageAni(r,t,(function(){for(var n=0;n<r.components.length;n++){var o,t;null==(o=(t=r.components[n]).overPageAni)||o.call(t,e)}})),e)){for(var g=0;g<r.components.length;g++){var u,v;null==(u=(v=r.components[g]).init)||u.call(v,e)}s.log("windowMgr===>"+o+"页面"+n+"打开完毕",l.绿,i.log)}}))},o.close=function(n,o){void 0===o&&(o=g.fadeOut),c.runPageAni(n,o,(function(){globalThis.poolMgr.put(n)})),s.log("windowMgr===>关闭页面"+n.name,l.绿,this.log)},o.activeLevels=function(n,o){for(var e=0;e<n.length;e++){var t=a("Canvas/pages/"+n[e]);t.active=o,s.log("windowMgr===>level页面"+t.name+"置为"+o,l.绿,this.log)}},n}());o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});